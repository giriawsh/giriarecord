(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{417:function(t,s,a){"use strict";a.r(s);var e=a(42),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"understanding-node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#understanding-node-js"}},[t._v("#")]),t._v(" Understanding node.js")]),t._v(" "),a("ul",[a("li",[t._v("原文地址：["),a("a",{attrs:{href:"http://debuggable.com/posts/understanding-node-js:4bd98440-45e4-4a9a-8ef7-0f7ecbdd56cb",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding node.js"),a("OutboundLink")],1),t._v("]")]),t._v(" "),a("li",[t._v("原文作者："),a("a",{attrs:{href:"http://felixge.de/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Felix Geisendörfer"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("译文地址："),a("a",{attrs:{href:"https://segmentfault.com/a/1190000008289033",target:"_blank",rel:"noopener noreferrer"}},[t._v("理解NodeJS译文"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"什么是nodejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是nodejs"}},[t._v("#")]),t._v(" 什么是NodeJS？")]),t._v(" "),a("p",[t._v("下面就是我对于"),a("code",[t._v("node")]),t._v("的解释：")]),t._v(" "),a("ul",[a("li",[t._v("它是一个命令行工具，你可以下载一个tarball文件，编译然后安装源文件；")]),t._v(" "),a("li",[t._v("它可以让你在你的终端输入"),a("code",[t._v("node my_app.js")]),t._v("来运行Javascript程序；")]),t._v(" "),a("li",[t._v("Node的JS代码是由 "),a("a",{attrs:{href:"http://code.google.com/p/v8/",target:"_blank",rel:"noopener noreferrer"}},[t._v("V8 javascript 引擎"),a("OutboundLink")],1),t._v("（就是那个使得Chrome如此之快的东西）所执行的；")]),t._v(" "),a("li",[t._v("Node提供了诸如访问网络或是操作文件系统的"),a("code",[t._v("Javascript API")])])]),t._v(" "),a("h2",{attrs:{id:"nodejs抽象化解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs抽象化解释"}},[t._v("#")]),t._v(" NodeJS抽象化解释")]),t._v(" "),a("p",[t._v("当你需要同时做好几件事的时候"),a("code",[t._v("Node")]),t._v('会表现的十分优秀。你有写了一段代码然后对他说"我想你可以并行运行！"的体验吗？哈哈哈，在Node中除了你的代码所有的东西都是并行运行的。')]),t._v(" "),a("p",[t._v("你可以把你自己的代码想象成一个国王，而"),a("code",[t._v("Node")]),t._v("就是他的仆人军队。")]),t._v(" "),a("p",[t._v("新的一天是这样开始的：某个仆人叫醒了国王，然后问他是否需要什么。国王给了这个仆人一个任务清单然后就回去继续睡觉了。然后这个仆人就把任务清单上的任务分发下去，仆人们开始工作了。")]),t._v(" "),a("p",[t._v("当一个仆人完成了他的任务的时候，他就跑到国王寝宫外面排队等候报告。"),a("u",[t._v("国王一次只能听取一个仆人报告任务，有的时候国王会在仆人报告结束的时候给他更多的任务。")]),t._v("(看你代码咋写咯)")]),t._v(" "),a("p",[t._v("生活是美好的，因为国王的诸多仆人同时执行多个任务，但报告结果的时候是一个一个来的，所以国王能够很专注。")]),t._v(" "),a("h2",{attrs:{id:"给出一个例子吧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#给出一个例子吧"}},[t._v("#")]),t._v(" 给出一个例子吧")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sys'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//译者注：sys is deprecated. Use util instead.这里我们直接用console.log即可")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'treasure-chamber-report.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("report")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//sys.puts("oh, look at all my money: "+report);')]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"oh, look at all my money: "')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("report"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'letter-to-princess.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//sys.puts("can\'t wait to hear back from her!");')]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"can\'t wait to hear back from her!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("你的代码(国王)给了"),a("code",[t._v("node")]),t._v("(仆人)两个任务即读(readFile)和写(writeFile)文件，然后就去睡大觉了。一旦node完成了某个任务，跟这个任务对应的回调就会触发。"),a("u",[t._v("但同一时间只能有一个回调被触发，在那个回调执行完成之前，所有其它的回调都得排队等待。")])]),t._v(" "),a("p",[t._v("进一步说，回调触发的顺序是不能被保证的。")]),t._v(" "),a("h2",{attrs:{id:"所以我不必担心代码在同一时间访问同一个数据结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#所以我不必担心代码在同一时间访问同一个数据结构"}},[t._v("#")]),t._v(' "所以我不必担心代码在同一时间访问同一个数据结构？"')]),t._v(" "),a("p",[t._v("这就是JavaScript的单进程/事件循环设计美丽的地方。")]),t._v(" "),a("h2",{attrs:{id:"更多优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更多优点"}},[t._v("#")]),t._v(" 更多优点")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("**效率。**在一个web应用中，响应时间主要是花在了执行数据库查询上面，而用"),a("code",[t._v("node")]),t._v(",你可以"),a("u",[t._v("一次性执行所有的数据库查询")]),t._v("。将响应时间"),a("u",[t._v("减少到了执行最慢的数据库查询所用的时间。")])])]),t._v(" "),a("li",[a("p",[t._v("**使用了"),a("code",[t._v("Javascript")]),t._v("。**你可以使用"),a("code",[t._v("Node")]),t._v("让你的浏览器和后端共享代码。")])]),t._v(" "),a("li",[a("p",[t._v("**原生速度。**V8正在不断的推进作为地球上最快的动态语言编译器之一的边界，我也想不到有任何其它的语言在速度上能够像Javascript一样不断的高歌猛进。再进一步说，"),a("code",[t._v("node")]),t._v("的I/O设备真的十分的轻量，能够让你"),a("u",[t._v("尽可能最大程度的利用系统的I/O容量。")])])])]),t._v(" "),a("h3",{attrs:{id:"评估参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#评估参考"}},[t._v("#")]),t._v(" 评估参考")]),t._v(" "),a("p",[t._v("一旦你开始舞弄"),a("code",[t._v("node")]),t._v("这柄锤子，所有的东西都会开始变得像钉子。但如果你当前的工作有一个deadline，你可以参考下面的几点来做决定用不用"),a("code",[t._v("node")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("低响应时间/高并发")]),t._v("是否重要？Node真的很擅长处理这俩问题；")]),t._v(" "),a("li",[t._v("项目有多大？"),a("strong",[t._v("小项目")]),t._v("没问题，如果是大项目就应该认真评估了(可用的库，修复一个bug所需的资源或者two upstream等等)")])]),t._v(" "),a("h2",{attrs:{id:"我能在node中访问dom吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#我能在node中访问dom吗"}},[t._v("#")]),t._v(' "我能在Node中访问DOM吗？"')]),t._v(" "),a("p",[t._v("这是一个好问题！答案是不行。")]),t._v(" "),a("p",[t._v("DOM是浏览器的东西，node的JS引擎（V8）跟那些混乱的东西是完全分离的。不过，有人在以node模块的形式来实现DOM，或许带来令人兴奋的可能性比如对客户端代码进行单元测试。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("关于Node-DOM的实现")]),t._v(" "),a("p",[t._v("现在已经有人实现了这个模块，详情查看"),a("a",{attrs:{href:"https://www.npmjs.com/package/node-dom",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node-dom"),a("OutboundLink")],1),t._v(")。")])]),t._v(" "),a("h2",{attrs:{id:"我应该从哪里学到更多"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#我应该从哪里学到更多"}},[t._v("#")]),t._v(' "我应该从哪里学到更多？"')]),t._v(" "),a("p",[t._v("Tim Caswell正在运作优秀的"),a("a",{attrs:{href:"http://howtonode.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How To Node"),a("OutboundLink")],1),t._v("博客。在twitter上Follow "),a("a",{attrs:{href:"https://twitter.com/search?q=node.js&src=typd",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejs"),a("OutboundLink")],1),t._v("。订阅"),a("a",{attrs:{href:"http://groups.google.com/group/nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("邮件列表"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("也可以结合"),a("a",{attrs:{href:"http://nodejs.cn/api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 6.9.5 文档"),a("OutboundLink")],1),t._v("进行学习，另外，译者写了一个node的小应用"),a("a",{attrs:{href:"https://github.com/damonare/node-sample",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-sample"),a("OutboundLink")],1),t._v("可以clone下来看下")])])}),[],!1,null,null,null);s.default=n.exports}}]);