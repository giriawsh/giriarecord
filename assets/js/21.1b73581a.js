(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{371:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"第六章-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第六章-对象"}},[t._v("#")]),t._v(" 第六章 对象")]),t._v(" "),a("p",[t._v("对象是一种复合值：它将很多值（原始值或者其他对象）聚合在一起，可通过名字访问这些值。")]),t._v(" "),a("p",[t._v("对象也可看做是属性的无序集合，每个属性都是一个名/值对。")]),t._v(" "),a("p",[t._v("属性名是"),a("strong",[t._v("字符串")]),t._v("，因而我们也可以把对象看成是从字符串到值的映射。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("对象别名")]),t._v(" "),a("p",[t._v("这种基本数据结构还有很多中叫法：散列、散列表、字典、关联数组")])]),t._v(" "),a("p",[t._v("然而对象不仅仅是字符串到值的映射，除了可以保持自有的属性，JS还可以从一个称为"),a("strong",[t._v("原型")]),t._v("的对象继承属性。"),a("u",[t._v("对象的方法通常是继承的属性。")])]),t._v(" "),a("p",[t._v("这种“原型式继承”是JS的核心特征。")]),t._v(" "),a("p",[t._v("JS对象是动态的——可以新增属性也可以删除属性，它们常用来模拟静态对象以及静态类型语言中的“结构体”。有时它们也用作字符串的集合（忽略名/值中的值）。")]),t._v(" "),a("p",[t._v("对象是可变的，我们通过"),a("strong",[t._v("引用")]),t._v("而非值来操作对象。")]),t._v(" "),a("p",[t._v("对象最常见的用法是创建、设置、查找、删除、检测和枚举它的属性。下文要讲到的相当一部分内容来自ES5。")]),t._v(" "),a("h3",{attrs:{id:"属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("p",[t._v("属性包括"),a("strong",[t._v("名字")]),t._v("和"),a("strong",[t._v("值")]),t._v("。")]),t._v(" "),a("p",[t._v("属性名：可以是包含空字符串在内的任意字符串，但对象中不能存在两个同名属性。")]),t._v(" "),a("p",[t._v("值：可以是任意JS值，或者（在ES5中）可以是一个getter或setter函数。")]),t._v(" "),a("p",[t._v("除了名字和值之外，每个属性还有一些与之相关的值，称为"),a("strong",[t._v("属性特性")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108163113.png",alt:"image-20201108163106281"}})]),t._v(" "),a("p",[t._v("在ES5之前，通过代码给对象创建的所有属性都是可写的、可枚举的、可配置的。")]),t._v(" "),a("p",[t._v("在ES5中则可以对这些特性加以配置。")]),t._v(" "),a("p",[t._v("除了包含属性之外，每个对象还拥有三个相关的"),a("strong",[t._v("对象特性")]),t._v("：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108163517.png",alt:"image-20201108163516969"}})]),t._v(" "),a("p",[t._v("在第四章中我们有提到内置对象、宿主对象、原生对象的定义和区别，在本章中罗列了下面这些术语来对三类JS对象和两类属性作区分：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108163851.png",alt:"image-20201108163851273"}})]),t._v(" "),a("h2",{attrs:{id:"创建对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建对象"}},[t._v("#")]),t._v(" 创建对象")]),t._v(" "),a("p",[t._v("可以通过**对象直接量、关键字new和ES5中的Object.create()**函数来创建对象。")]),t._v(" "),a("h3",{attrs:{id:"对象直接量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对象直接量"}},[t._v("#")]),t._v(" 对象直接量")]),t._v(" "),a("p",[t._v("这是创建对象最简单的方式。对象直接量是由若干名/值对组成的映射表。")]),t._v(" "),a("p",[t._v("属性名可以是JS标识符也可以是字符串直接量（包括空字符串）。")]),t._v(" "),a("p",[t._v("属性值可移植任意类型的JS表达式，表达式的值就是这个属性的值。")]),t._v(" "),a("p",[t._v("例如(注意仔细看注释)：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108165536.png",alt:"image-20201108165536515"}})]),t._v(" "),a("p",[t._v("可以看到如果没有特殊情况，带不带引号都通用，且在解析时会被视作同一个属性名，可看下面这个例子中的x由于同名被覆盖了：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108170120.png",alt:"image-20201108170120160"}})]),t._v(" "),a("p",[t._v("在ES5中，"),a("u",[t._v("保留字可以用做不带引号的属性名")]),t._v("。")]),t._v(" "),a("p",[t._v("然而对于ES3来说，使用保留字作为属性名必须使用引号引起来。")]),t._v(" "),a("p",[t._v("在ES5中，对象直接量中的"),a("u",[t._v("最后一个属性后的逗号将忽略")]),t._v("，且在ES3的大部分实现中也可以忽略这个逗号。但在IE中则报错。")]),t._v(" "),a("p",[t._v("对象直接量是一个表达式，这个表达式的每次运算都创建并初始化一个新的对象。")]),t._v(" "),a("p",[t._v("每次计算对象直接量的时候，也会计算它的每个属性的值。")]),t._v(" "),a("p",[t._v("也就是说，如果在一个重复调用的函数中的循环体内使用了对象直接量，"),a("strong",[t._v("它将创建很多对象")]),t._v("，并且每次创建的对象的属性值也有可能不同。")]),t._v(" "),a("h3",{attrs:{id:"通过new创建对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过new创建对象"}},[t._v("#")]),t._v(" 通过new创建对象")]),t._v(" "),a("p",[t._v("关键字new后跟随一个函数调用，这样的函数称作"),a("strong",[t._v("构造函数")]),t._v("（constructor）。")]),t._v(" "),a("p",[t._v("构造函数用以初始化一个新创建的对象，JS语言核心中的原始函数都包含内置构造函数，例如：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108170359.png",alt:"image-20201108170359850"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108170406.png",alt:"image-20201108170406385"}})]),t._v(" "),a("p",[t._v("除了这些内置构造函数，用自定义构造函数来初始化新对象也是非常常见的。")]),t._v(" "),a("h3",{attrs:{id:"原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原型"}},[t._v("#")]),t._v(" 原型")]),t._v(" "),a("p",[t._v("首先解释一下原型：每一个JS对象（null除外）都和另一个对象（即是原型）相关联，每一个对象都从原型继承属性。")]),t._v(" "),a("ol",[a("li",[t._v("所有通过"),a("strong",[t._v("对象直接量")]),t._v("创建的对象都具有同一个原型对象，并可以通过"),a("code",[t._v("Object.prototype")]),t._v("获得对原型对象的引用。")]),t._v(" "),a("li",[t._v("通过"),a("strong",[t._v("关键字new和构造函数调用")]),t._v("创建的对象的原型就是构造函数的"),a("code",[t._v("prototype")]),t._v("属性的值。\n"),a("ol",[a("li",[t._v("因此，同使用"),a("code",[t._v("var empty = {}")]),t._v("创建对象一样，通过"),a("code",[t._v("new Object()")]),t._v("创建的对象也继承自"),a("code",[t._v("Object.prototype")])]),t._v(" "),a("li",[t._v("同样，通过"),a("code",[t._v("new Array()")]),t._v("创建的对象的原型就是"),a("code",[t._v("Array.prototype")])]),t._v(" "),a("li",[t._v("通过"),a("code",[t._v("new Date()")]),t._v("创建的对象的原型就是"),a("code",[t._v("Date.prototype")])])])])]),t._v(" "),a("p",[t._v("没有原型的对象为数不多，"),a("code",[t._v("Object.prototype")]),t._v("就是其中之一（还有使用"),a("code",[t._v("Object.create(null)")]),t._v("创建的对象），它不继承任何属性。")]),t._v(" "),a("p",[t._v("其他原型对象都是普通对象，普通对象都具有原型。")]),t._v(" "),a("p",[a("strong",[t._v("所有值的构造函数（以及大部分自定义的构造函数）都具有一个继承自"),a("code",[t._v("Object.prototype")]),t._v("的原型。")])]),t._v(" "),a("p",[t._v("例如："),a("code",[t._v("Date.prototype")]),t._v("的属性继承自"),a("code",[t._v("Object.prototype")]),t._v("，因此由new Date()创建的Date对象的属性"),a("strong",[t._v("同时继承")]),t._v("自"),a("code",[t._v("Date.prototype")]),t._v("和"),a("code",[t._v("Object.prototype")]),t._v("。")]),t._v(" "),a("p",[t._v("这一系列链接的原型对象就是所谓的“"),a("strong",[t._v("原型链")]),t._v("”（prototype chain）。")]),t._v(" "),a("h3",{attrs:{id:"object-create"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-create"}},[t._v("#")]),t._v(" Object.create()")]),t._v(" "),a("p",[t._v("ES5定义了此方法，它创建一个新对象，其中"),a("strong",[t._v("第一个参数就是这个对象的原型")]),t._v("。Object.create()提供第二个可选参数，用以对对象的属性进行进一步描述，后面将会提到。")]),t._v(" "),a("p",[a("code",[t._v("Object.create()")]),t._v("是一个"),a("u",[t._v("静态函数")]),t._v("，而不是提供给某个对象调用的方法。使用时，只需"),a("u",[t._v("传入所需的原型对象")]),t._v("即可。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" o1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//{x:1, y:2}就是传入的o1的原型，o1继承了属性x和y")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("可以通过传入参数null来创建一个没有原型的新对象")]),t._v("。但通过这种方式创建的对象不会继承任何东西，甚至不包括基础方法，比如toString()。")]),t._v(" "),a("blockquote",[a("p",[t._v("也就是说，它将不能和“+”运算符一起正常工作")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" o2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//o2不继承任何属性和方法")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("如果想创建一个"),a("strong",[t._v("普通的空对象")]),t._v("（比如通过{}和new Object()创建的对象），需要传入Object.prototype：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" o3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//与{}和new Object()一样")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("可以通过任意原型创建新对象（换句话说，可以使任意对象可继承），这是一个非常强大的属性。在ES3中可以用类似下面的代码来模拟原型继承：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108174319.png",alt:"image-20201108174319280"}})]),t._v(" "),a("p",[t._v("可以看到inherit()函数返回的新对象继承了参数对象的属性值。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("inherit()并不能完全代替Object.create()")]),t._v(" "),a("ol",[a("li",[t._v("它不能传入null原型来创建对象")]),t._v(" "),a("li",[t._v("它不能接收可选的第二个参数")])])]),t._v(" "),a("p",[t._v("inherit()函数的其中一个用途就是"),a("u",[t._v("防止库函数无意间（非恶意地）修改那些不受你控制的对象")]),t._v("。")]),t._v(" "),a("p",[t._v("不是将对象直接作为参数传入函数，而是将它的继承对象传入函数。当函数读取继承对象的属性时，实际上读取的是继承来的值。")]),t._v(" "),a("p",[t._v("如果给继承对象的属性赋值，这些属性只会影响这个继承对象自身，而不是原始对象：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108174610.png",alt:"image-20201108174610290"}})]),t._v(" "),a("h2",{attrs:{id:"属性的查询和设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性的查询和设置"}},[t._v("#")]),t._v(" 属性的查询和设置")]),t._v(" "),a("p",[t._v("第四章提到，可以通过点或方括号运算符来获取属性的值。")]),t._v(" "),a("p",[t._v("运算符左侧应当是一个表达式，它返回一个对象。")]),t._v(" "),a("p",[t._v("对于点来说，右侧必须是一个"),a("u",[t._v("以属性名称命名的简单标识符")]),t._v("。")]),t._v(" "),a("p",[t._v("对于方括号来说，方括号内必须是一个计算结果为字符串的表达式，这个字符串就是属性的名字：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108174821.png",alt:"image-20201108174821041"}})]),t._v(" "),a("p",[t._v("通过点和方括号也可以创建属性或给属性赋值，需要将它们放在赋值表达式的左侧：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108174848.png",alt:"image-20201108174848599"}})]),t._v(" "),a("p",[t._v("在ES3中，点运算符后的标识符不能是保留字（ES5中可以，因为标识符作为名字可以不带引号）。")]),t._v(" "),a("p",[t._v("如果一个对象的属性名是保留字，必须使用方括号形式访问它们。")]),t._v(" "),a("p",[t._v("使用方括号时，更严格地讲，表达式必须"),a("strong",[t._v("返回字符串或一个可以转换为字符串的值")]),t._v("。")]),t._v(" "),a("p",[t._v("在第七章的例子中方括号内使用了数字，这情况是非常常见的。")]),t._v(" "),a("h3",{attrs:{id:"作为关联数组的对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作为关联数组的对象"}},[t._v("#")]),t._v(" 作为关联数组的对象")]),t._v(" "),a("p",[t._v("上文提到，这两个表达式的值相同：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("property\nobject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"property"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("第一种语法使用点运算符和一个标识符，这和C和Java中访问一个结构体或对象的静态字段非常类似。")]),t._v(" "),a("p",[t._v("第二种语法使用方括号和一个字符串，看起来"),a("u",[t._v("更像数组")]),t._v("。只是这个数组元素是通过字符串索引而不是数字索引。")]),t._v(" "),a("p",[t._v("这种数组就是"),a("strong",[t._v("关联数组")]),t._v("，也称作散列、映射或字典。")]),t._v(" "),a("p",[t._v("JS对象都是关联数组。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("强类型与弱类型")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201108175813.png",alt:"image-20201108175813576"}})])]),t._v(" "),a("p",[t._v("在C、C++、Java和一些强类型语言中，对象只能"),a("u",[t._v("拥有固定数目的属性")]),t._v("，并且这些属性名称必须提前定义好。")]),t._v(" "),a("p",[t._v("JS是弱类型语言，在任何对象中程序都可以"),a("u",[t._v("创建任意数量的属性")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[t._v("这里的意思是可以动态地给对象添加属性，严格讲JS对象的属性个数还是有上限滴。")])]),t._v(" "),a("p",[t._v("但当通过点运算符访问对象的属性时，属性名用一个标识符来标识。标识符必须直接出现在JS程序中，"),a("u",[t._v("它们不是数据类型")]),t._v("，因此程序无法修改它们。")]),t._v(" "),a("blockquote",[a("p",[t._v("这里的意思是说，程序运行时无法动态地指定一个标识符，eval除外。")]),t._v(" "),a("p",[t._v("即**[] 可以动态访问的属性名，可以在程序运行时创建和修改属性，点操作符就不行！**")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'北京'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'上海'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'广州'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'深圳'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("addr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\t"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])])]),t._v(" "),a("p",[t._v("反过来讲，当通过"),a("code",[t._v("[]")]),t._v("来访问对象的属性时，属性名通过字符串来表示。字符串是JS的数据类型，在程序运行时可以修改和创建它们。")]),t._v(" "),a("p",[t._v("这篇博文总结得很好："),a("a",{attrs:{href:"https://blog.csdn.net/weixin_41796631/article/details/89339273",target:"_blank",rel:"noopener noreferrer"}},[t._v("js 对象属性通过点(.) 和 方括号 ( [] ) 的不同之处：obj.attr 和 obj[attr]"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("使用数组写法和用字符串表达式来访问对象属性具有更高的灵活性。")]),t._v(" "),a("p",[t._v("因为使用"),a("code",[t._v("[]")]),t._v("时，字符串值是"),a("strong",[t._v("动态")]),t._v("的，可以在运行时更改；标识符是"),a("strong",[t._v("静态")]),t._v("的，必须写死在程序中作为索引对属性进行访问。")]),t._v(" "),a("h3",{attrs:{id:"继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#继承"}},[t._v("#")]),t._v(" 继承")]),t._v(" "),a("p",[t._v("JS对象具有“自有属性”，也有一些属性是从原型对象继承而来的。")]),t._v(" "),a("p",[t._v("假设要查询对象o的属性x：")]),t._v(" "),a("ol",[a("li",[t._v("如果o中不存在x，那么将会继续在o的原型对象中查询属性x")]),t._v(" "),a("li",[t._v("如果原型对象中也没有x，但这个原型对象也有原型，那么继续在这个原型对象的原型上执行查询")]),t._v(" "),a("li",[t._v("直到找到x或者找到一个原型式null的对象位置。")])]),t._v(" "),a("p",[t._v("对象的原型属性构成了一个“链”，通过这个原型链可以实现属性的继承。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109143256.png",alt:"image-20201109143256273"}})]),t._v(" "),a("p",[t._v("假设给对象o的属性x赋值：")]),t._v(" "),a("ol",[a("li",[t._v("如果o中已经有属性x（不是继承来的），那么这个赋值操作只改变这个已有属性x的值。")]),t._v(" "),a("li",[t._v("如果o中不存在属性x，那么赋值操作给o添加一个新属性x")]),t._v(" "),a("li",[t._v("如果之前o继承自属性x，那么这个继承的属性就被新创建的同名属性"),a("strong",[t._v("覆盖")]),t._v("了。")])]),t._v(" "),a("p",[t._v("属性赋值操作"),a("strong",[t._v("首先检查原型链")]),t._v("，以此判定是否允许赋值操作。")]),t._v(" "),a("p",[t._v("例如，如果o继承自一个只读属性x，那么赋值操作是不允许的。如果允许属性赋值操作，它也总是在原始对象上创建属性或对已有的属性赋值，而"),a("strong",[t._v("不会去修改原型链")]),t._v("。")]),t._v(" "),a("p",[t._v("在JS中，"),a("u",[t._v("只有在查询属性时才会体会到继承的存在")]),t._v("，而设置属性则和继承无关。该特性让程序员可以有选择地"),a("strong",[t._v("覆盖继承的属性")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109143712.png",alt:"image-20201109143711904"}})]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("属性赋值的四种结果")]),t._v(" "),a("p",[t._v("属性赋值要么"),a("u",[t._v("失败")]),t._v("、要么"),a("u",[t._v("创建一个属性")]),t._v("、要么在"),a("u",[t._v("原始对象中设置属性")]),t._v("，但有一个"),a("strong",[t._v("例外")]),t._v("。")]),t._v(" "),a("p",[t._v("如果o继承自属性x，而这个属性时一个具有setter方法的accessor属性，那么这时"),a("u",[t._v("将调用setter方法")]),t._v("，而不是给o创建一个属性x。")]),t._v(" "),a("p",[t._v("需要注意的是，setter方法是由对象o调用的，而不是定义这个属性的原型对象调用的。因此如果setter方法定义任意属性，这个操作只是针对o本身，并不会修改原型链。")])]),t._v(" "),a("h3",{attrs:{id:"属性访问错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性访问错误"}},[t._v("#")]),t._v(" 属性访问错误")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("查询一个不存在的属性并不会报错，会返回undefined。")])]),t._v(" "),a("li",[a("p",[t._v("如果对象不存在，那么试图查询这个不存在的对象的属性就会报错。")]),t._v(" "),a("ul",[a("li",[t._v("null和undefined值都没有属性，因此查询这些值的属性也会报错")])])])]),t._v(" "),a("p",[t._v("举个例子，假设book没有subtitle属性")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("book"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtitle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => undefined:属性不存在")]),t._v("\nbook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtitle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 抛出类型错误异常，undefined没有length属性")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("下面提供两种避免出错的方法：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109144328.png",alt:"image-20201109144328591"}})]),t._v(" "),a("p",[t._v("第二种方法值得记忆。（利用了"),a("code",[t._v("&&")]),t._v("运算符的短路行为）")]),t._v(" "),a("ul",[a("li",[t._v("给null和undefined设置属性也会报类型错误。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ES3之前的历史遗留问题")]),t._v(" "),a("ul",[a("li",[t._v("给其他值设置属性不总是成功：有一些属性是只读的，不能重新赋值；有一些对象不允许新增属性。但是这些设置属性的失败操作不会报错")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109145238.png",alt:"image-20201109145238021"}})])]),t._v(" "),a("p",[t._v("在ES5的严格模式中已经修复上述的历史遗留问题，"),a("u",[t._v("在严格模式中，任何失败的属性设置操作都会抛出一个类型错误异常")]),t._v("。")]),t._v(" "),a("p",[t._v("在下述这些场景下，给对象o设置属性p会失败：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109145444.png",alt:"image-20201109145444177"}})]),t._v(" "),a("h2",{attrs:{id:"删除属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除属性"}},[t._v("#")]),t._v(" 删除属性")]),t._v(" "),a("p",[t._v("delete运算符可以删除对象的属性。它的操作数应当是一个属性访问表达式。")]),t._v(" "),a("p",[t._v("但是，delete只是断开属性和宿主对象的联系，而不会去操作属性中的属性。")]),t._v(" "),a("p",[t._v("在销毁对象时，要遍历属性中的属性，依次删除。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109145605.png",alt:"image-20201109145605248"}})]),t._v(" "),a("p",[t._v("delete运算符"),a("strong",[t._v("只能删除自有属性，不能删除继承属性")]),t._v("。")]),t._v(" "),a("p",[t._v("要删除继承属性必须"),a("u",[t._v("从定义这个属性的原型对象上删除它")]),t._v("，而且这会"),a("u",[t._v("影响到所有继承自这个原型的对象")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\na"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> 1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => true 但是并没有删除成功")]),t._v("\nb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1 delete只能删除自有属性，不能删除继承属性")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => true 在原型对象上删除成功")]),t._v("\nb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => undefined 影响到所有继承自这个原型的对象")]),t._v("\na"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => undefined")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("关于delete运算符，详情可见第四章我们已经有做过总结。")]),t._v(" "),a("p",[t._v("当delete表达式删除成功或没有任何副作用（比如删除不存在的属性）时，它返回true；如果delete后不是一个属性访问表达式，delete也返回true。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109150413.png",alt:"image-20201109150413070"}})]),t._v(" "),a("p",[t._v("delete不能删除那些可配置性为false的属性（尽管可以删除不可扩展对象的可配置属性）。")]),t._v(" "),a("p",[t._v("某些内置对象的属性是不可配置的，例如通过变量声明和函数声明创建的全局对象的属性。")]),t._v(" "),a("p",[t._v("在严格模式中，删除一个不可配置属性会报一个类型错误；在非严格模式中（以及ES3中），会返回false。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109150958.png",alt:"image-20201109150958637"}})]),t._v(" "),a("blockquote",[a("p",[t._v("使用var定义，delete this.x和delete x得到的效果等价，报错不同：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("严格模式下：\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 类型错误 Uncaught TypeError: Cannot delete property 'x' of #<Window> at <anonymous>:3:1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 语法错误 Uncaught SyntaxError: Delete of an unqualified identifier in strict mode.")]),t._v("\nx "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1 无法成功删除")]),t._v("\n\n非严格模式下：\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => false")]),t._v("\nx "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("使用this.x定义，在非严格模式下两者皆可成功删除，在严格模式下只能使用delete this.x删除")])]),t._v(" "),a("p",[t._v("在非严格模式中删除全局对象的可配置属性时，可以省略对全局对象的引用。直接在delete操作符后跟随要删除的属性名即可：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109151637.png",alt:"image-20201109151637539"}})]),t._v(" "),a("p",[t._v("然而在严格模式中，delete后跟随一个非法的操作数（比如x），会报一个语法错误。因此必须显式指定对象及其属性：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109151722.png",alt:"image-20201109151722217"}})]),t._v(" "),a("h2",{attrs:{id:"检测属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检测属性"}},[t._v("#")]),t._v(" 检测属性")]),t._v(" "),a("p",[t._v("JS对象可以看做属性的集合，我们经常会检测集合中成员的所属关系——判断某个属性是否存在于某个对象中。")]),t._v(" "),a("p",[t._v("可以通过in运算符、hasOwnProperty()和propertyIsEnumerable()方法、属性查询做到这一点。")]),t._v(" "),a("h3",{attrs:{id:"in运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#in运算符"}},[t._v("#")]),t._v(" in运算符")]),t._v(" "),a("p",[t._v("in运算符的左侧是属性名(字符串)，右侧是对象。")]),t._v(" "),a("p",[t._v("如果对象的"),a("strong",[t._v("自有属性或继承属性")]),t._v("中包含这个属性则返回true：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109152645.png",alt:"image-20201109152645877"}})]),t._v(" "),a("h3",{attrs:{id:"hasownproperty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasownproperty"}},[t._v("#")]),t._v(" hasOwnProperty()")]),t._v(" "),a("p",[t._v("对象的"),a("code",[t._v("hasOwnProperty()")]),t._v("方法用来检测给定的名字是否是对象的"),a("strong",[t._v("自有属性")]),t._v("。对于继承属性它将返回false")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109152753.png",alt:"image-20201109152753461"}})]),t._v(" "),a("h3",{attrs:{id:"propertyisenumerable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#propertyisenumerable"}},[t._v("#")]),t._v(" propertyIsEnumerable()")]),t._v(" "),a("p",[a("code",[t._v("propertyIsEnumerable()")]),t._v("是"),a("code",[t._v("hasOwnProperty()")]),t._v("的增强版，只有检测到是"),a("strong",[t._v("自有属性")]),t._v("且这个属性的"),a("strong",[t._v("可枚举型是true")]),t._v("时它才返回true。")]),t._v(" "),a("p",[t._v("某些内置属性时不可枚举的。通常由JS代码创建的属性都是可枚举的，除非在ES5中使用一个特殊的方法来改变属性的可枚举型。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109153113.png",alt:"image-20201109153113110"}})]),t._v(" "),a("h3",{attrs:{id:"使用-运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-运算符"}},[t._v("#")]),t._v(" 使用"),a("code",[t._v("!==")]),t._v("运算符")]),t._v(" "),a("p",[t._v("这是一种更简便的方法，用来判断一个属性是否是undefined。可以判断"),a("strong",[t._v("自有属性和继承属性")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109153215.png",alt:"image-20201109153215368"}})]),t._v(" "),a("p",[t._v("然而有一种场景只能使用in运算符而不能使用"),a("code",[t._v("!==")]),t._v("运算符！")]),t._v(" "),a("p",[t._v("in可以区分不存在的属性和存在但值为undefined的属性。例如下面的例子：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109153310.png",alt:"image-20201109153309887"}})]),t._v(" "),a("p",[t._v("使用in运算符可以正确判断属性的存在性而不受其值是否为undefined影响。")]),t._v(" "),a("p",[a("code",[t._v("!==")]),t._v("可以区分undefined和null，有时则不必作这种区分，此时可以灵活使用"),a("code",[t._v("!=")]),t._v("：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109153428.png",alt:"image-20201109153428490"}})]),t._v(" "),a("h2",{attrs:{id:"枚举属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#枚举属性"}},[t._v("#")]),t._v(" 枚举属性")]),t._v(" "),a("p",[t._v("遍历对象的属性，通常使用for/in循环遍历，ES5提供了两个更好用的替代方案。")]),t._v(" "),a("h3",{attrs:{id:"for-in循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-in循环"}},[t._v("#")]),t._v(" for/in循环")]),t._v(" "),a("p",[t._v("在第五章中提到过，for/in循环可以在循环体中遍历对象中所有"),a("strong",[t._v("可枚举")]),t._v("的属性（包括"),a("strong",[t._v("自有属性和继承属性")]),t._v("），把属性名称赋值给循环变量。")]),t._v(" "),a("p",[t._v("对象继承的内置方法不可枚举，但在代码中给对象添加的属性都是可枚举的（除非用下文提到的一个方法将它们转换为不可枚举的）")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109204336.png",alt:"image-20201109204336601"}})]),t._v(" "),a("p",[t._v("有许多实用工具库给"),a("strong",[t._v("Object.prototype")]),t._v("添加了新的方法或属性，这些方法和属性可以被所有对象继承并使用。然而在ES5标准之前，这些新添加的方法是"),a("u",[t._v("不能定义为不可枚举的")]),t._v("，因此它们都可以在for/in循环中枚举出来。")]),t._v(" "),a("p",[t._v("为了避免这种情况，需要过滤for/in循环返回的属性，有下面两种方法：")]),t._v(" "),a("ul",[a("li",[t._v("跳过继承的属性")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[t._v("跳过方法")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("下面的例子定义了一些有用的工具函数来操控对象的属性，用到了for/in循环。实际上extend()函数经常出现在JS实用工具库中。")]),t._v(" "),a("ul",[a("li",[t._v("复制可枚举属性；如果同名，则覆盖")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109204958.png",alt:"image-20201109204958052"}})]),t._v(" "),a("ul",[a("li",[t._v("复制可枚举属性；如果同名，不受影响")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205052.png",alt:"image-20201109205052517"}})]),t._v(" "),a("ul",[a("li",[t._v("删除差异的属性")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205124.png",alt:"image-20201109205124794"}})]),t._v(" "),a("ul",[a("li",[t._v("删除相同的属性")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205157.png",alt:"image-20201109205157046"}})]),t._v(" "),a("ul",[a("li",[t._v("同时拥有两者属性；如果有重名属性，使用p中属性")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205235.png",alt:"image-20201109205235027"}})]),t._v(" "),a("ul",[a("li",[t._v("同时拥有两者属性；但p中属性的值被忽略（？）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205456.png",alt:"image-20201109205455910"}})]),t._v(" "),a("ul",[a("li",[t._v("返回对象中可枚举的自有属性的名字")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205528.png",alt:"image-20201109205528111"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109205534.png",alt:"image-20201109205534266"}})]),t._v(" "),a("h3",{attrs:{id:"object-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-keys"}},[t._v("#")]),t._v(" "),a("code",[t._v("Object.keys()")])]),t._v(" "),a("p",[t._v("ES5定义的，返回一个数组，这个数组由对象中"),a("strong",[t._v("可枚举的自有属性")]),t._v("的名称组成。")]),t._v(" "),a("p",[t._v("工作原理与上面的keys(o)类似。")]),t._v(" "),a("h3",{attrs:{id:"object-getownpropertynames"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-getownpropertynames"}},[t._v("#")]),t._v(" "),a("code",[t._v("Object.getOwnPropertyNames()")])]),t._v(" "),a("p",[t._v("ES5定义，它和"),a("code",[t._v("Object.keys()")]),t._v("类似，只是它返回对象的所有"),a("strong",[t._v("自有属性")]),t._v("的名称，而"),a("u",[t._v("不仅仅是可枚举的属性")]),t._v("。")]),t._v(" "),a("p",[t._v("在ES3中是无法实现类似的函数的，因为"),a("u",[t._v("ES3中没有提供任何方法来获取对象不可枚举的属性")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ul",[a("li",[t._v("for/in循环 => 可以在循环体中遍历对象中所有"),a("strong",[t._v("可枚举")]),t._v("的属性（包括"),a("strong",[t._v("自有属性和继承属性")]),t._v("）")]),t._v(" "),a("li",[a("code",[t._v("Object.keys()")]),t._v(" => 得到由对象中"),a("strong",[t._v("可枚举的自有属性")]),t._v("的名称组成的数组")]),t._v(" "),a("li",[a("code",[t._v("Object.getOwnPropertyNames()")]),t._v(" => 返回对象的所有"),a("strong",[t._v("自有属性")]),t._v("的名称（包括可枚举、不可枚举的属性）")])]),t._v(" "),a("h2",{attrs:{id:"属性getter和setter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性getter和setter"}},[t._v("#")]),t._v(" 属性getter和setter")]),t._v(" "),a("p",[t._v("对象属性 = 名字+值+一组特性")]),t._v(" "),a("p",[t._v("在ES5中，"),a("u",[t._v("属性值可以用一个或两个方法替代")]),t._v("，这两个方法就是getter和setter。")]),t._v(" "),a("p",[t._v("由getter和setter定义的属性称为"),a("strong",[t._v("存取器属性")]),t._v("，它不同于"),a("strong",[t._v("数据属性")]),t._v("（只有一个简单的值）。")]),t._v(" "),a("p",[t._v("流程如下：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("当程序"),a("strong",[t._v("查询")]),t._v("存取器属性的值时，JS调用"),a("strong",[t._v("getter")]),t._v("方法（无参数）。"),a("u",[t._v("这个方法返回的值就是属性存取表达式的值")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("当程序"),a("strong",[t._v("设置")]),t._v("一个存储器属性的值时，JS调用"),a("strong",[t._v("setter")]),t._v("方法，将赋值表达式右侧的值当做参数传入setter。"),a("u",[t._v("可以忽略setter方法的返回值")]),t._v("。")])])]),t._v(" "),a("p",[t._v("和数据属性不同，存取器属性"),a("strong",[t._v("不具有可写性")]),t._v("。")]),t._v(" "),a("p",[t._v("如果属性同时具有getter和setter方法，那么它是一个读/写属性。")]),t._v(" "),a("p",[t._v("如果它只有getter方法，那么它是一个只读属性。")]),t._v(" "),a("p",[t._v("如果只有setter方法，那么它是一个只写属性（数据属性中有一些例外）。读取只写属性总是返回undefined。")]),t._v(" "),a("p",[t._v("定义存取器属性最简单的方法是使用"),a("u",[t._v("对象直接量语法")]),t._v("的一种扩展写法：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109212135.png",alt:"image-20201109212135847"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109212144.png",alt:"image-20201109212144306"}})]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("思考")]),t._v(" "),a("p",[t._v("如果存取器属性定义的函数不成对会怎么样？会像上面所说的变成一个只读或只写属性吗？")])]),t._v(" "),a("p",[a("strong",[t._v("存取器属性定义为一个或两个和属性同名的函数")]),t._v("。这个函数定义没有使用function关键字，而是使用get和（或）set。")]),t._v(" "),a("p",[t._v("没有使用冒号将属性名和函数体分隔开，但在函数体的结束和下一个方法或数据属性之间有"),a("strong",[t._v("逗号分隔")]),t._v("。")]),t._v(" "),a("p",[t._v("书上给出了一个表示2D笛卡尔点坐标的对象，x和y分别表示对应点的x和y坐标。它还有两个等价的存取器属性用来表示点的极坐标：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109212437.png",alt:"image-20201109212437017"}})]),t._v(" "),a("p",[t._v("在这里可以看到getter和setter中"),a("strong",[t._v("this")]),t._v("关键字的用法。")]),t._v(" "),a("p",[t._v("回顾一下第四章——调用表达式提到的this几种用法：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109212909.png",alt:"image-20201109212909765"}})]),t._v(" "),a("p",[t._v("在这里，JS把这些函数当做对象的方法来调用，也就是说，在函数体内的"),a("u",[t._v("this指向表示这个点的对象")]),t._v("。")]),t._v(" "),a("p",[t._v("因此，r属性的getter方法可以通过this.x和this.y引用x和y属性。")]),t._v(" "),a("p",[t._v("和数据属性一样，"),a("strong",[t._v("存取器属性是可以继承的")]),t._v("。")]),t._v(" "),a("p",[t._v("因此可以将上述代码中的对象p当做另一个“点”的原型，给新对象定义它的x和y属性，同时继承r和theta属性：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109215202.png",alt:"image-20201109215202107"}})]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newvalue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oldvalue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ratio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newvalue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" oldvalue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" ratio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" ratio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("theta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("atan2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newvalue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newvalue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.r="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => p.r=1.4142135623730951")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.theta="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => p.theta=0.7853981633974483")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.test="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => p.test=undefined 只写数据无法读取")]),t._v("\n    p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.theta="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => p.theta=0.7853981633974483 只读数据 赋值失败")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" q "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1 1 0.7853981633974483 继承了p中的数据")]),t._v("\n\tq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 3 2 0.5880026035475675 覆盖了继承的数据 并且计算值发生改变")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"q.r="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => q.r=3.605551275463989")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"q.theta="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => q.theta=0.5880026035475675")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"q.test="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => q.test=undefined 只读/写属性不会发生改变")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br")])]),a("p",[t._v("还有很多场景可以用到存取器属性，比如智能检测属性的写入值以及在每次属性读取时返回不同值：")]),t._v(" "),a("p",[t._v("下面这个例子中，对象产生严格自增的序列号：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109221327.png",alt:"image-20201109221327142"}})]),t._v(" "),a("p",[t._v("测试如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" serialnum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        $n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input a bigger number"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 0")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 0 自增")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 1")]),t._v("\n    serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 10")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 10 自增")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 11 ")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serialnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => 11")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("书上还给了一个例子：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://giriawsh-bucket.oss-cn-beijing.aliyuncs.com/img/20201109221646.png",alt:"image-20201109221646807"}})]),t._v(" "),a("p",[t._v("本节介绍了如何"),a("u",[t._v("给对象直接量定义存取器属性")]),t._v("，下节介绍如何给一个已经存在的对象添加一个存取器属性。")])])}),[],!1,null,null,null);s.default=e.exports}}]);